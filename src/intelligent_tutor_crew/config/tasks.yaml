teach_topic_task:
  description: >
    Explain the topic: {topic}
        
        Provide a comprehensive explanation that includes:
        1. A clear definition and overview
        2. Step-by-step breakdown of key concepts
        3. Practical examples
        4. Three key takeaways the student should remember
        
        Format your response in clear, educational markdown.
  expected_output: >
    A well-formatted markdown document with a clear explanation of the topic
  agent: teacher_agent
  output_file: data/output/topic_explanation.md

generate_quiz_task:
  description: >
    Based on the following topic explanation, create 3-5 quiz questions:
        
        Topic Explanation:
        {topic_explanation}
        
        Requirements:
        - Create multiple choice questions with 4 options each (A, B, C, D)
        - Questions should test understanding of key concepts
        - Format as JSON array with this structure:
        [{"question": "...", "options": ["A", "B", "C", "D"], "answer": "B"}]
        - Only output valid JSON, no additional text
  expected_output: >
    A JSON array of quiz questions with questions, options, and correct answers
  dependencies: [teach_topic_task]
  agent: quiz_generator_agent
  output_file: data/output/quiz_questions.json

grade_answers_task:
  description: >
    Grade the following student answers against the quiz questions:
        
        Quiz Questions:
        {quiz_questions}
        
        Student Answers:
        {student_answers}
        
        For each question:
        1. Compare the student's answer with the correct answer
        2. Mark as correct or incorrect
        3. If incorrect, provide a brief explanation
        4. Calculate an overall score out of 100
        
        Format your response as JSON:
        {
            "score": 85,
            "total_questions": 5,
            "correct": 4,
            "incorrect": 1,
            "results": [
                {"question": 1, "correct": true, "explanation": ""},
                {"question": 2, "correct": false, "explanation": "..."}
            ]
        }
  dependencies: [generate_quiz_task]
  expected_output: >
    A JSON object with score, results, and explanations for each question
  agent: grader_agent
  output_file: data/output/grading_results.json

provide_feedback_task:
  description: >
    Based on the grading results, provide comprehensive feedback:
        
        Grading Results:
        {grading_results}
        
        Topic Covered: {topic}
        
        Create a markdown-formatted feedback report that includes:
        1. Performance summary (score and overall assessment)
        2. Strengths (what the student did well)
        3. Areas for improvement (specific weak points)
        4. Recommended next steps (how to improve understanding)
        5. Encouraging closing remarks
        
        Make the feedback constructive, specific, and actionable.
  expected_output: >
    A well-formatted markdown document with performance summary, strengths, weaknesses, and recommendations
  agent: feedback_agent
  dependencies: [grade_answers_task]
  output_file: data/output/feedback.md
